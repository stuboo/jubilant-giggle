"use strict";(()=>{var t={};t.id=881,t.ids=[881],t.modules={517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:t=>{t.exports=require("crypto")},2811:(t,e,r)=>{r.r(e),r.d(e,{headerHooks:()=>h,originalPathname:()=>v,patchFetch:()=>j,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>d,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>m});var o={};r.r(o),r.d(o,{POST:()=>c});var a=r(5419),i=r(9108),n=r(9678),s=r(8070);let u=r(3042).s.fromEnv();async function c(t){try{let{actionType:e,details:r}=await t.json();if(!e)return s.Z.json({error:"Missing action type"},{status:400});let o=new Date().toISOString();return await u.incr(`action:${e}:count`),await u.lpush(`action:${e}:log`,JSON.stringify({timestamp:o,actionType:e,details:r||{}})),await u.ltrim(`action:${e}:log`,0,999),s.Z.json({success:!0})}catch(t){return console.error("Error logging action:",t),s.Z.json({error:"Failed to log action"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/log-action/route",pathname:"/api/log-action",filename:"route",bundlePath:"app/api/log-action/route"},resolvedPagePath:"/Users/jrs/Library/CloudStorage/Dropbox/ryan/Projects/@inprogress_proj/retired-teachers/legislative-action-page/app/api/log-action/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:g,serverHooks:d,headerHooks:h,staticGenerationBailout:m}=l,v="/api/log-action/route";function j(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:g})}}};var e=require("../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),o=e.X(0,[638,206,42],()=>r(2811));module.exports=o})();